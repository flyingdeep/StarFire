<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <script src="http://lib.sinaapp.com/js/jquery/1.9.1/jquery-1.9.1.min.js"></script>
    <script type="text/javascript" src="../js/common/base64.js"></script>
    <script type="text/javascript" src="../js/config.js"></script>
    <script type="text/javascript" src="../js/class/remoteProxy.js"></script>
    <script type="text/javascript" src="../js/class/processFacade.js"></script>
    <script type="text/javascript" src="../js/class/commonHelper.js"></script>
</head>
<body>
<form  method="post" action="http://flyingdeeptest.oss-cn-hangzhou.aliyuncs.com" enctype="multipart/form-data" >
    Key <input name="key" type="text" > <br>
    OSSAccessKeyId <input name="OSSAccessKeyId" type="text"  value="glMswMHjOFGZRlhz" ><br>
    Policy <input name="policy" type="text"  value='eyJleHBpcmF0aW9uIjoiMjAxNS0xMi0wMVQxMjowMDowMC4wMDBaIiwiY29uZGl0aW9ucyI6W1siY29udGVudC1sZW5ndGgtcmFuZ2UiLDEsNTI0Mjg4MF1dfQ==' ><br>
    Signature <input name="Signature" type="text"  value="X+SDfnmqlD0Jj4n7REbNEQ4QwUI=" ><br>
    File <input name="file" type="file" >

    <input type="submit"  value="Submit" >
</form>

<form id="uploadStandImageForm" >
     <input id="key" name="key" type="hidden"> <br>
     <input id="OSSAccessKeyId" name="OSSAccessKeyId" type="hidden"><br>
     <input id="policy" name="policy" type="text"><br>
     <input id="Signature" name="Signature" type="hidden"><br>
     <input id="file" name="file" type="file" >
    <a href="#" onclick=uploadSingleStandImage >Submit</a>
</form>
<script>


    function uploadSingleStandImage()
    {

        var commonHelper = new commonHelperClass();
        commonHelper.getOSSSignatureAndPolicy(function(e)
        {
            var OSSBase64Policy = e.base64policy;
            var OSSSignature = e.signature;
            var uploadStandFormVal = $("#uploadStandImageForm");
            uploadStandFormVal.prop("method","post");
            uploadStandFormVal.prop("action",OSS_DOMAIN);
            uploadStandFormVal.prop("enctype",OSS_ENCTYPE);
            $("#key").val("");
            $("#OSSAccessKeyId").val(OSS_ACCESS_KEY_ID);
            $("#policy").val(OSSBase64Policy);
            $("#Signature").val(OSSSignature);
            uploadStandFormVal.submit();
        });

    }
</script>
</body>
</html>